# Update User Example
# Demonstrates PUT request to update user details

Define:
  userId: "user_12345"
  timestamp: "${fake.iso8601()}"

Method: PUT
Endpoint: ${base_url}/api/v1/users/${userId}

Headers:
  Authorization: ${authorization_token}
  Content-Type: application/json
  X-Request-ID: ${fake.uuid4()}

JsonBody: |
  {
    "name": "Updated Name",
    "profile": {
      "bio": "Updated bio",
      "location": "New York, NY"
    },
    "preferences": {
      "theme": "light",
      "notifications": false
    },
    "metadata": {
      "updated_at": "${timestamp}",
      "updated_by": "purl-cli"
    }
  }

Captures:
  userId: "@body jsonpath $.id"
  statusCode: "@status"
  updatedAt: "@body jsonpath $.metadata.updated_at"

Asserts:
  "status code is 200": "@status |==| 200"
  "response has user id": "@body jsonpath $.id"
  "has updated_at": "@body jsonpath $.metadata.updated_at"

Options:
  timeout: 30
  insecure: false
